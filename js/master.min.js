var console=console||null,canvas={canvas:void 0,gridSize:120,rectangles:[],redrawGrid:!1,color:{center:255,outerEdge:190},init:function(t,a){var i=window.oCanvas||null;this.canvas=i.create({canvas:"#homeCanvas",background:"#000",fps:30}),this.canvas.width=t*this.gridSize,this.canvas.height=a*this.gridSize,this.layoutGrid(),this.colorGrid(),this.canvas.setLoop(this.mouseLight),this.canvas.timeline.start()},layoutGrid:function(){for(var t=0;t<this.canvas.width/this.gridSize;t++)for(var a=0;a<this.canvas.height/this.gridSize;a++){var i=this.canvas.display.rectangle({x:t*this.gridSize,y:a*this.gridSize,width:this.gridSize,height:this.gridSize,fill:"#fff"});this.canvas.addChild(i),this.rectangles.push(i)}},colorGrid:function(){for(var t=this.canvas.width/2,a=this.canvas.height/2,i=this.helper.dist(t,a,0,0),e=this.rectangles.length-1;e>=0;e--){var s,n,r,h,o;o=this.rectangles[e],n=o.x+o.width/2,r=o.y+o.height/2,s=this.helper.dist(t,a,n,r),h=Math.floor(this.helper.lerp(s/i,this.color.center,this.color.outerEdge)),o.fill="rgb("+h+", "+h+", "+h+")"}this.canvas.redraw()},mouseLight:function(){if(console.log(canvas.canvas.mouse.onCanvas()),canvas.canvas.mouse.onCanvas()){var t=canvas.canvas.mouse.x,a=canvas.canvas.mouse.y;canvas.colorGrid();for(var i=canvas.rectangles.length-1;i>=0;i--){var e,s,n,r;r=canvas.rectangles[i],s=r.x+r.width/2,n=r.y+r.height/2,e=canvas.helper.dist(t,a,s,n),100>e&&(r.fill="rgb(100,100,100)",canvas.redrawGrid||(canvas.redrawGrid=!0))}canvas.canvas.redraw()}else canvas.redrawGrid&&(canvas.colorGrid(),canvas.redrawGrid=!1)},helper:{lerp:function(t,a,i){return(1-t)*a+t*i},dist:function(t,a,i,e){return Math.sqrt((t-=i)*t+(a-=e)*a)}}};canvas.init(9,3);var console=console||null,Mustache=Mustache||null,theme={init:function(){$("nav").on("click","a",this.stuff)},stuff:function(t){t.preventDefault();var a=$(this);$.getJSON(a.attr("href"),function(t){var i=a.attr("data-template");if($("#"+i).length){console.log("Load "+i+" from html.");var e=$("#"+i).html(),s=Mustache.to_html(e,t);theme.aniSiteChange(s),history.pushState({},t.title,a.attr("href"))}else console.log("Load "+i+" from online template."),$.get("/site/templates/views/"+i+".mustache",function(e){var s=$("<script />");s.attr("id",i),s.attr("type","text/html"),s.html(e),$("body").append(s);var n=Mustache.to_html(e,t);theme.aniSiteChange(n),history.pushState({},t.title,a.attr("href"))})})},aniSiteChange:function(t){var a=$("#content");a.velocity("transition.slideRightOut",100,function(){a.html(t),a.velocity("transition.slideLeftIn",200)})}};theme.init();
//# sourceMappingURL=./master.min.js.map